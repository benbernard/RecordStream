.TH RECS\-TOPN 1 "2026-02-24" "recs 0.1.0" "RecordStream Manual"

.SH NAME
recs\-topn \- Output the top N records from the input stream or from files

.SH SYNOPSIS
.B recs topn [options] [files...]

.SH DESCRIPTION
Output the top N records from the input stream or from files. You may segment the input based on a list of keys such that unique values of keys are treated as distinct input streams. This enables top\-N listings per value groupings. The key values need not be contiguous in the input.
.PP

.SH OPTIONS
.TP
\fB--key\fR, \fB-k\fR \fI<keyspec>\fR
Comma\-separated list of fields to group by. May be specified multiple times. May be a keyspec or keygroup.
.TP
\fB--topn\fR, \fB-n\fR \fI<number>\fR
Number of records to output. Default is 10.
.TP
\fB--delimiter\fR \fI<string>\fR
String used internally to delimit values when performing a topn on a keyspec that includes multiple keys.

.SH EXAMPLES
Output just the top 5 records
.PP
.RS 4
.nf
\fBrecs topn -n 5\fR
.fi
.RE

Output 10 records for each area
.PP
.RS 4
.nf
\fBrecs sort --key area | recs topn -n 10 --key area\fR
.fi
.RE

Output the top 10 longest running queries per area and priority level
.PP
.RS 4
.nf
\fBrecs sort --key area,priority,runtime=-n | recs topn -n 10 --key area,priority\fR
.fi
.RE

.SH SEE ALSO
\fBrecs\-sort\fR(1), \fBrecs\-grep\fR(1)

.SH AUTHOR
Benjamin Bernard <perlhacker@benjaminbernard.com>

